import{d as I,a2 as Y,R as L,b0 as G,c as E,bN as H,o as C,l as A,g as w,m as f,n as u,h as e,t as W,q as D,w as p,e as P,i as X,E as Z,j as F,I as O,_ as j,bO as x,u as ee,aj as N,a as ae,r as R,Q as se,f as oe,ah as le,ai as te,al as ne,a$ as re,v as ie,s as de,am as ce,bP as ue,y as ge,a8 as pe}from"./index-cdc499c6.js";import{b as fe,c as me,d as be,a as ve,u as ye}from"./use-dialog-dcabaf7a.js";import{a as Ce}from"./refs-a153aa6b.js";const B=Symbol("dialogInjectionKey"),he=["aria-level"],ke=["aria-label"],Se=["id"],Ee=I({name:"ElDialogContent"}),Re=I({...Ee,props:fe,emits:me,setup(t){const r=t,{t:d}=Y(),{Close:m}=x,{dialogRef:o,headerRef:i,bodyId:h,ns:s,style:g}=L(B),{focusTrapRef:l}=L(G),b=E(()=>[s.b(),s.is("fullscreen",r.fullscreen),s.is("draggable",r.draggable),s.is("align-center",r.alignCenter),{[s.m("center")]:r.center},r.customClass]),k=Ce(l,o),c=E(()=>r.draggable);return H(o,i,c),(n,$)=>(C(),A("div",{ref:e(k),class:u(e(b)),style:O(e(g)),tabindex:"-1"},[w("header",{ref_key:"headerRef",ref:i,class:u(e(s).e("header"))},[f(n.$slots,"header",{},()=>[w("span",{role:"heading","aria-level":n.ariaLevel,class:u(e(s).e("title"))},W(n.title),11,he)]),n.showClose?(C(),A("button",{key:0,"aria-label":e(d)("el.dialog.close"),class:u(e(s).e("headerbtn")),type:"button",onClick:$[0]||($[0]=z=>n.$emit("close"))},[D(e(Z),{class:u(e(s).e("close"))},{default:p(()=>[(C(),P(X(n.closeIcon||e(m))))]),_:1},8,["class"])],10,ke)):F("v-if",!0)],2),w("div",{id:e(h),class:u(e(s).e("body"))},[f(n.$slots,"default")],10,Se),n.$slots.footer?(C(),A("footer",{key:0,class:u(e(s).e("footer"))},[f(n.$slots,"footer")],2)):F("v-if",!0)],6))}});var $e=j(Re,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog-content.vue"]]);const we=["aria-label","aria-labelledby","aria-describedby"],De=I({name:"ElDialog",inheritAttrs:!1}),Ie=I({...De,props:be,emits:ve,setup(t,{expose:r}){const d=t,m=ee();N({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},E(()=>!!m.title)),N({scope:"el-dialog",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/dialog.html#attributes",type:"Attribute"},E(()=>!!d.customClass));const o=ae("dialog"),i=R(),h=R(),s=R(),{visible:g,titleId:l,bodyId:b,style:k,overlayDialogStyle:c,rendered:n,zIndex:$,afterEnter:z,afterLeave:M,beforeLeave:q,handleClose:T,onModalClick:K,onOpenAutoFocus:_,onCloseAutoFocus:J,onCloseRequested:U,onFocusoutPrevented:V}=ye(d,i);se(B,{dialogRef:i,headerRef:h,bodyId:b,ns:o,rendered:n,style:k});const v=ue(K),Q=E(()=>d.draggable&&!d.fullscreen);return r({visible:g,dialogContentRef:s}),(a,y)=>(C(),P(ce,{to:"body",disabled:!a.appendToBody},[D(de,{name:"dialog-fade",onAfterEnter:e(z),onAfterLeave:e(M),onBeforeLeave:e(q),persisted:""},{default:p(()=>[oe(D(e(le),{"custom-mask-event":"",mask:a.modal,"overlay-class":a.modalClass,"z-index":e($)},{default:p(()=>[w("div",{role:"dialog","aria-modal":"true","aria-label":a.title||void 0,"aria-labelledby":a.title?void 0:e(l),"aria-describedby":e(b),class:u(`${e(o).namespace.value}-overlay-dialog`),style:O(e(c)),onClick:y[0]||(y[0]=(...S)=>e(v).onClick&&e(v).onClick(...S)),onMousedown:y[1]||(y[1]=(...S)=>e(v).onMousedown&&e(v).onMousedown(...S)),onMouseup:y[2]||(y[2]=(...S)=>e(v).onMouseup&&e(v).onMouseup(...S))},[D(e(te),{loop:"",trapped:e(g),"focus-start-el":"container",onFocusAfterTrapped:e(_),onFocusAfterReleased:e(J),onFocusoutPrevented:e(V),onReleaseRequested:e(U)},{default:p(()=>[e(n)?(C(),P($e,ne({key:0,ref_key:"dialogContentRef",ref:s},a.$attrs,{"custom-class":a.customClass,center:a.center,"align-center":a.alignCenter,"close-icon":a.closeIcon,draggable:e(Q),fullscreen:a.fullscreen,"show-close":a.showClose,title:a.title,"aria-level":a.headerAriaLevel,onClose:e(T)}),re({header:p(()=>[a.$slots.title?f(a.$slots,"title",{key:1}):f(a.$slots,"header",{key:0,close:e(T),titleId:e(l),titleClass:e(o).e("title")})]),default:p(()=>[f(a.$slots,"default")]),_:2},[a.$slots.footer?{name:"footer",fn:p(()=>[f(a.$slots,"footer")])}:void 0]),1040,["custom-class","center","align-center","close-icon","draggable","fullscreen","show-close","title","aria-level","onClose"])):F("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,we)]),_:3},8,["mask","overlay-class","z-index"]),[[ie,e(g)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Ae=j(Ie,[["__file","/home/runner/work/element-plus/element-plus/packages/components/dialog/src/dialog.vue"]]);const Te=ge(Ae),Le=t=>{const r=R([]),d=R(!1),m=JSON.parse(JSON.stringify(t.params||{})),o=pe({page:1,pageSize:20,pageSizes:[10,20,30,50],total:10}),i=async()=>{d.value=!0;const l=t.isPageable??!0,b=l?{page:o.page,pageSize:o.pageSize}:{},k=Object.assign({},t.params,b);let{data:c}=await t.apiFn(k).finally(()=>d.value=!1);t.callback&&(c=t.callback(c)),r.value=l?c.list:c,o.total=c.total},h=async l=>{o.page=1,o.pageSize=l,await i()},s=async l=>{o.page=l,await i()},g=()=>{Object.keys(m).forEach(l=>{t.params[l]=m[l]}),i()};return(t.immediate??!0)&&i(),{tableData:r,page:o,loading:d,getList:i,resetParams:g,handleSizeChange:h,handleCurrentChange:s}};export{Te as E,Le as u};
