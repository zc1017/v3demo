import{d as v,r as c,o as y,e as x,w as l,g as C,q as n,p as u,a9 as g,aL as E,ac as h}from"./index-40c733bf.js";import{E as b}from"./el-dialog-d88d5945.js";import{E as M}from"./el-tree-3da22496.js";import"./el-checkbox-3b2a9147.js";const V={class:"dialog-footer"},L=v({__name:"index",props:{allMenuList:{type:Array,default:()=>[]}},setup(i,{expose:p}){const t=c(),o=c(!1),f=async a=>{o.value=!0,await g(),a.forEach(e=>{var s;t.value.store.nodesMap[e].expanded=!0,(s=t.value)==null||s.setChecked(e,!0,!1)})},m=()=>{const a=[...t.value.getHalfCheckedKeys(),...t.value.getCheckedKeys()];E.success("修改成功，数据为"+JSON.stringify(a)),o.value=!1},_=()=>{var a;(a=t.value)==null||a.setCheckedKeys([]),Object.keys(t.value.store.nodesMap).forEach(e=>{t.value.store.nodesMap[e].expanded=!1})};return p({init:f}),(a,e)=>{const s=M,r=h,k=b;return y(),x(k,{title:"菜单权限",modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=d=>o.value=d),"append-to-body":"",onClosed:_},{footer:l(()=>[C("span",V,[n(r,{onClick:e[0]||(e[0]=d=>o.value=!1)},{default:l(()=>[u("取消")]),_:1}),n(r,{type:"primary",onClick:m},{default:l(()=>[u("确认")]),_:1})])]),default:l(()=>[n(s,{ref_key:"treeRef",ref:t,data:i.allMenuList,"show-checkbox":"","node-key":"id",props:{label:"title"}},null,8,["data"])]),_:1},8,["modelValue"])}}});export{L as _};
