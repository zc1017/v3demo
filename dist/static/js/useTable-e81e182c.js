import{r as n,a8 as f}from"./index-6fcfa17b.js";const o=e=>{const c=n([]),r=n(!1),g=JSON.parse(JSON.stringify(e.params||{})),t=f({page:1,pageSize:20,pageSizes:[10,20,30,50],total:10}),s=async()=>{r.value=!0;const a=e.isPageable??!0,u=a?{page:t.page,pageSize:t.pageSize}:{},b=Object.assign({},e.params,u);let{data:l}=await e.apiFn(b).finally(()=>r.value=!1);e.callback&&(l=e.callback(l)),c.value=a?l.list:l,t.total=l.total},i=async a=>{t.page=1,t.pageSize=a,await s()},p=async a=>{t.page=a,await s()},m=()=>{Object.keys(g).forEach(a=>{e.params[a]=g[a]}),s()};return(e.immediate??!0)&&s(),{tableData:c,page:t,loading:r,getList:s,resetParams:m,handleSizeChange:i,handleCurrentChange:p}};export{o as u};
